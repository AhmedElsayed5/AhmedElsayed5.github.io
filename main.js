!function(){"use strict";class e{constructor(e,t,s,i,r,n,o){this._cardOwner=s,this._name=e.name,this._link=e.link,this._likeCount=e.likes.length,this._likes=e.likes,this._cardSelector=t,this._handleCardClick=i,this._handleDeleteClick=r,this._userId=e.owner._id,this._handleLikeClick=o,this._cardId=e._id}_setCardViewElements(){this._cardImage=this._element.querySelector(".card__image"),this._cardTitle=this._element.querySelector(".card__title"),this._likeButton=this._element.querySelector(".card__like-button"),this._deleteButton=this._element.querySelector(".card__delete-button"),"owner"!==this._cardOwner&&(this._deleteButton.hidden=!0),this._cardLikeCount=this._element.querySelector(".card__like-count")}_setCardView(){this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this.updateLikes(this._likes),this._cardLikeCount.textContent=0===this._likeCount?" ":this._likeCount}_setEventListeners(){this._likeButton.addEventListener("click",(()=>this._handleLikeClick())),"owner"===this._cardOwner&&this._deleteButton.addEventListener("click",(()=>{this._handleDeleteClick()})),this._cardImage.addEventListener("click",(()=>{this._handleCardClick()}))}handleDeleteIcon(){this._element.remove(),this._element=null}setLikeInfo(e){this._likes=e.likes}updateLikes(){this._cardLikeCount.textContent=this._likes.length,this._likes.some((e=>e._id===this._userId))?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}_getTemplate(){return document.querySelector(this._cardSelector).content.cloneNode(!0).querySelector(".card")}getView(){return this._element=this._getTemplate(),this._setCardViewElements(),this._setCardView(),this._setEventListeners(),this._element}}class t{constructor(e,t){this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=e,this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButton=this._form.querySelector(this._submitButtonSelector)}_hideInputError=e=>{const t=this._form.querySelector(`.${e.id}-error`);console.log(e),e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""};_showInputError=e=>{const t=this._form.querySelector(`.${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)};_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_checkFormValidity(){return!this._inputList.every((e=>e.validity.valid))}_toggleButtonState(){this._checkFormValidity()?this.disableButton():(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class s{constructor(e){this._modal=document.querySelector(e),this._closeButton=this._modal.querySelector(".modal__close-button")}open(){this._modal.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._modal.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};_closeModalWithOutsideClick(e){!e.target.closest(".modal__body")&&e.target.closest(".modal_opened")&&this.close()}setEventListeners(){this._closeButton.addEventListener("click",(()=>this.close())),document.addEventListener("mousedown",(e=>this._closeModalWithOutsideClick(e)))}}class i extends s{constructor(e,t){super(e),this._modalForm=this._modal.querySelector("form"),this._handleFormSubmit=t,this._submitButton=this._modal.querySelector(".modal__save-button"),this._inputList=Array.from(this._modalForm.querySelectorAll(".modal__input"))}close(){this._modalForm.reset(),super.close()}_getInputValues(){this._inputList=Array.from(this._modalForm.querySelectorAll(".modal__input"));let e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}renderLoading(e,t){this._submitButton.textContent=e?"Loading...":t}setEventListeners(){super.setEventListeners(),this._modalForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}class r{constructor(e,t){let{items:s,renderer:i}=e;this._items=s,this._renderer=i,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}renderItems(){this._items.forEach(this._renderer)}}const n={formSelector:".form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},o=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error ${e.status}`)}getApiInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers}).then(this._checkResponse)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{method:"GET",headers:this._headers}).then(this._checkResponse)}updateProfileInfo(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkResponse)}addNewCard(e){let{name:t,link:s}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then(this._checkResponse)}deleteUserCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}updateLikes(e){this._likes=e,this.renderLikes()}addCardLikes(e){return fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"PUT",headers:this._headers}).then(this._checkResponse)}removeCardLikes(e){return fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}updateProfileAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"95eecadc-0eb0-4813-b742-082777f22573","Content-Type":"application/json"}}),a=new class{constructor(e,t,s){this._profileName=document.querySelector(e),this._profileJob=document.querySelector(t),this._userAvatar=document.querySelector(s)}getUserInfo(){return{name:this._profileName.textContent,job:this._profileJob.textContent,avatar:this.getAvatar()}}setUserInfo(e){let{name:t,about:s,avatar:i}=e;this._profileName.textContent=t,this._profileJob.textContent=s,this.setAvatar(i)}setAvatar(e){this._userAvatar.alt=this.getUserInfo().name,this._userAvatar.src=e}getAvatar(){return this._userAvatar.src}}(".profile__title",".profile__description",".profile__image"),l=new i("#profile-modal",(e=>{l.renderLoading(!0),o.updateProfileInfo({name:e.name,about:e.about}).then((e=>{a.setUserInfo(e),l.close(),l.renderLoading(!1,"Save")})).catch((e=>console.log(e)))})),d=new i("#edit-avatar-modal",(e=>{d.renderLoading(!0),o.updateProfileAvatar(e.avatar).then((e=>{a.setAvatar(e.avatar),d.close(),d.renderLoading(!1,"Save")})).catch((e=>{console.log(e)})).finally((()=>{}))}));document.querySelector(".profile__image-edit").addEventListener("click",(function(){d.open(),d.setEventListeners(),h.disableButton()}));const h=new t(document.querySelector("#modal__form-edit-avatar"),n);h.enableValidation();const c=new class extends s{constructor(e){super(e),this._confirmButton=this._modal.querySelector(".delete-image-modal__button")}open(e){super.open(),this._id=e}setEventListeners(){super.setEventListeners(),this._confirmButton.addEventListener("click",(e=>{this._handleDeleteSubmit()}))}renderLoading(e){this._saveButton.textContent=e?"Loading...":"Yes"}setSubmitAction(e){this._handleDeleteSubmit=e}}("#delete-image-modal");let _;c.setEventListeners();const u=new class extends s{constructor(e){super(e),this._image=this._modal.querySelector(".modal__screen-image"),this._imageTitle=this._modal.querySelector(".modal__title-image")}open(e){let{name:t,link:s}=e;super.open(),this._image.src=s,this._image.alt=t,this._imageTitle.textContent=t}}("#image-modal");u.setEventListeners();const m=(t,s,i)=>{const r=new e(t,"#card",s,(()=>{u.open({name:t.name,link:t.link})}),(()=>{c.open(t._id),c.setSubmitAction((()=>{o.deleteUserCard(t._id).then((()=>{c.close(),r.handleDeleteIcon()}))}))}),i,(()=>{r._likes.some((e=>e._id===t.owner._id))?o.removeCardLikes(r._cardId).then((e=>{r.setLikeInfo(e),r.updateLikes()})).catch((e=>{console.log(e)})):o.addCardLikes(r._cardId).then((e=>{r.setLikeInfo(e),r.updateLikes()})).catch((e=>{console.log(e)}))}));return r.getView()},p=new i("#card-modal",(e=>{let{name:t,link:s}=e;p.renderLoading(!0),o.addNewCard({name:t,link:s}).then((e=>{_.addItem(m(e,"owner")),p.close(),p.renderLoading(!1,"Save")}))})),k=new t(document.querySelector("#formProfile"),n);k.enableValidation();const v=new t(document.querySelector("#modal__form-addCard"),n);v.enableValidation(),document.querySelector(".profile__edit-button").addEventListener("click",(function(){const e=a.getUserInfo(),t=document.querySelector("#name"),s=document.querySelector("#job");t.value=e.name,s.value=e.job,k.disableButton(),l.open()})),l.setEventListeners(),document.querySelector(".profile__add-button").addEventListener("click",(function(){v.disableButton(),p.open()})),p.setEventListeners(),o.getApiInfo().then((e=>{let[t,s]=e;a.setUserInfo(t),_=new r({items:s,renderer:function(e){_.addItem(m(e,e.owner._id===t._id?"owner":"non-owner",t))}},".cards__list"),_.renderItems()})).catch((e=>{console.error("Error fetching API info:",e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZL0QsYUFBYSxJQUUxQmtELE9BQU9DLElBQ056RyxRQUFReUcsTUFBTSwyQkFBNEJBLEVBQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvcG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9wb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBjYXJkT3duZXIsXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgIGN1cnJlbnRVc2VyLFxuICAgIGhhbmRsZUxpa2VDbGlja1xuICApIHtcbiAgICB0aGlzLl9jYXJkT3duZXIgPSBjYXJkT3duZXI7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VDb3VudCA9IGRhdGEubGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5fdXNlcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xuICB9XG5cbiAgX3NldENhcmRWaWV3RWxlbWVudHMoKSB7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpO1xuICAgIGlmICh0aGlzLl9jYXJkT3duZXIgIT09IFwib3duZXJcIikgdGhpcy5fZGVsZXRlQnV0dG9uLmhpZGRlbiA9IHRydWU7XG4gICAgdGhpcy5fY2FyZExpa2VDb3VudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50XCIpO1xuICB9XG5cbiAgX3NldENhcmRWaWV3KCkge1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy51cGRhdGVMaWtlcyh0aGlzLl9saWtlcyk7XG4gICAgdGhpcy5fY2FyZExpa2VDb3VudC50ZXh0Q29udGVudCA9XG4gICAgICB0aGlzLl9saWtlQ291bnQgPT09IDAgPyBcIiBcIiA6IHRoaXMuX2xpa2VDb3VudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlQ2xpY2soKSk7XG4gICAgaWYgKHRoaXMuX2NhcmRPd25lciA9PT0gXCJvd25lclwiKVxuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKCk7XG4gICAgICB9KTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljaygpO1xuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRGVsZXRlSWNvbigpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgc2V0TGlrZUluZm8oZGF0YSkge1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgfVxuXG4gIHVwZGF0ZUxpa2VzKCkge1xuICAgIHRoaXMuX2NhcmRMaWtlQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgLy8gaWYgKHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQuX2lkKSlcbiAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCkpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LmNsb25lTm9kZSh0cnVlKVxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcbiAgfVxuXG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fc2V0Q2FyZFZpZXdFbGVtZW50cygpO1xuICAgIHRoaXMuX3NldENhcmRWaWV3KCk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIHNldHRpbmdzKSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgY29uc29sZS5sb2coaW5wdXRFbGVtZW50KTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH07XG5cbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2NoZWNrRm9ybVZhbGlkaXR5KCkge1xuICAgIHJldHVybiAhdGhpcy5faW5wdXRMaXN0LmV2ZXJ5KFxuICAgICAgKGlucHV0RWxlbWVudCkgPT4gaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkXG4gICAgKTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5fY2hlY2tGb3JtVmFsaWRpdHkoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwX1NlbGVjdG9yKSB7XG4gICAgdGhpcy5fbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwX1NlbGVjdG9yKTtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBfY2xvc2VNb2RhbFdpdGhPdXRzaWRlQ2xpY2soZXZ0KSB7XG4gICAgaWYgKFxuICAgICAgIWV2dC50YXJnZXQuY2xvc2VzdChcIi5tb2RhbF9fYm9keVwiKSAmJlxuICAgICAgZXZ0LnRhcmdldC5jbG9zZXN0KFwiLm1vZGFsX29wZW5lZFwiKVxuICAgIClcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT5cbiAgICAgIHRoaXMuX2Nsb3NlTW9kYWxXaXRoT3V0c2lkZUNsaWNrKGV2dClcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybXMgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9tb2RhbEZvcm0gPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fbW9kYWxGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXG4gICAgKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX21vZGFsRm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9tb2RhbEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIilcbiAgICApO1xuICAgIGxldCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGZsYWcsIHRleHRWYWx1ZSkge1xuICAgIGlmIChmbGFnKSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIkxvYWRpbmcuLi5cIjtcbiAgICBlbHNlIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHRWYWx1ZTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fbW9kYWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgLy8gdGhpcy5fbW9kYWxGb3JtLnJlc2V0KCk7XG4gICAgICAvLyB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCh0aGlzLl9yZW5kZXJlcik7XG4gIH1cbn1cbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvcG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IHBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9wb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbi8vIGltcG9ydCB7IGVycm9yIH0gZnJvbSBcImNvbnNvbGVcIjtcblxuY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zYXZlLWJ1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxufTtcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI5NWVlY2FkYy0wZWIwLTQ4MTMtYjc0Mi0wODI3NzdmMjI1NzNcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vLyBFZGl0IG5hbWUgYW5kIERlc2NyaXB0aW9uXG5jb25zdCB1c2VyID0gbmV3IFVzZXJJbmZvKFxuICBcIi5wcm9maWxlX190aXRsZVwiLFxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxuICBcIi5wcm9maWxlX19pbWFnZVwiXG4pO1xuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3Byb2ZpbGUtbW9kYWxcIiwgKGRhdGEpID0+IHtcbiAgZWRpdFByb2ZpbGVNb2RhbC5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICBhcGlcbiAgICAudXBkYXRlUHJvZmlsZUluZm8oe1xuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXG4gICAgfSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VyLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgICBlZGl0UHJvZmlsZU1vZGFsLmNsb3NlKCk7XG4gICAgICBlZGl0UHJvZmlsZU1vZGFsLnJlbmRlckxvYWRpbmcoZmFsc2UsIFwiU2F2ZVwiKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yKSk7XG59KTtcblxuLy8gRWRpdCBBdmF0YXJcbmNvbnN0IGVkaXRQcm9maWxlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjZWRpdC1hdmF0YXItbW9kYWxcIiwgKGRhdGEpID0+IHtcbiAgZWRpdFByb2ZpbGVBdmF0YXIucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLnVwZGF0ZVByb2ZpbGVBdmF0YXIoZGF0YS5hdmF0YXIpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlci5zZXRBdmF0YXIocmVzLmF2YXRhcik7XG4gICAgICBlZGl0UHJvZmlsZUF2YXRhci5jbG9zZSgpO1xuICAgICAgZWRpdFByb2ZpbGVBdmF0YXIucmVuZGVyTG9hZGluZyhmYWxzZSwgXCJTYXZlXCIpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAvLyBhdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlLCBcIlNhdmVcIik7XG4gICAgfSk7XG59KTtcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlLWVkaXRcIik7XG5wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQcm9maWxlQXZhdGFyKTtcbmNvbnN0IGVkaXRQcm9maWxlQXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI21vZGFsX19mb3JtLWVkaXQtYXZhdGFyXCJcbik7XG5jb25zdCBlZGl0UHJvZmlsZUF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgZWRpdFByb2ZpbGVBdmF0YXJGb3JtLFxuICBzZXR0aW5nc1xuKTtcbmVkaXRQcm9maWxlQXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlQXZhdGFyKCkge1xuICBlZGl0UHJvZmlsZUF2YXRhci5vcGVuKCk7XG4gIGVkaXRQcm9maWxlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIGVkaXRQcm9maWxlQXZhdGFyRm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XG59XG5cbi8vIERlbGV0ZSBjYXJkXG5cbmNvbnN0IGRlbGV0ZUNhcmRNb2RhbCA9IG5ldyBwb3B1cFdpdGhDb25maXJtYXRpb24oXCIjZGVsZXRlLWltYWdlLW1vZGFsXCIpO1xuZGVsZXRlQ2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5sZXQgY2FyZFNlY3Rpb247XG5jb25zdCBpbWFnZUZ1bGxWaWV3ID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2ltYWdlLW1vZGFsXCIpO1xuaW1hZ2VGdWxsVmlldy5zZXRFdmVudExpc3RlbmVycygpO1xuY29uc3QgY3JlYXRlQ2FyZCA9IChkYXRhLCBjYXJkT3duZXIsIGN1cnJlbnRVc2VyKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBkYXRhLFxuICAgIFwiI2NhcmRcIixcbiAgICBjYXJkT3duZXIsXG4gICAgKCkgPT4ge1xuICAgICAgaW1hZ2VGdWxsVmlldy5vcGVuKHsgbmFtZTogZGF0YS5uYW1lLCBsaW5rOiBkYXRhLmxpbmsgfSk7XG4gICAgfSxcbiAgICAoKSA9PiB7XG4gICAgICBkZWxldGVDYXJkTW9kYWwub3BlbihkYXRhLl9pZCk7XG4gICAgICBkZWxldGVDYXJkTW9kYWwuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcbiAgICAgICAgYXBpLmRlbGV0ZVVzZXJDYXJkKGRhdGEuX2lkKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBkZWxldGVDYXJkTW9kYWwuY2xvc2UoKTtcbiAgICAgICAgICBjYXJkLmhhbmRsZURlbGV0ZUljb24oKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGN1cnJlbnRVc2VyLFxuICAgICgpID0+IHtcbiAgICAgIGlmIChjYXJkLl9saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gZGF0YS5vd25lci5faWQpKSB7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5yZW1vdmVDYXJkTGlrZXMoY2FyZC5fY2FyZElkKVxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGNhcmQuc2V0TGlrZUluZm8ocmVzKTtcbiAgICAgICAgICAgIGNhcmQudXBkYXRlTGlrZXMoKTsgLy8gbWFnaWMgaXMgaGVyZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGlcbiAgICAgICAgICAuYWRkQ2FyZExpa2VzKGNhcmQuX2NhcmRJZClcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBjYXJkLnNldExpa2VJbmZvKHJlcyk7XG4gICAgICAgICAgICBjYXJkLnVwZGF0ZUxpa2VzKCk7IC8vIG1hZ2ljIGlzIGhlcmVcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIGNhcmQuZ2V0VmlldygpO1xufTtcblxuLy8vIGFkZCBjYXJkXG5jb25zdCBhZGRDYXJkTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNjYXJkLW1vZGFsXCIsICh7IG5hbWUsIGxpbmsgfSkgPT4ge1xuICBhZGRDYXJkTW9kYWwucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpLmFkZE5ld0NhcmQoeyBuYW1lLCBsaW5rIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChyZXMsIFwib3duZXJcIikpO1xuICAgIGFkZENhcmRNb2RhbC5jbG9zZSgpO1xuICAgIGFkZENhcmRNb2RhbC5yZW5kZXJMb2FkaW5nKGZhbHNlLCBcIlNhdmVcIik7XG4gIH0pO1xufSk7XG5cbmNvbnN0IGVkaXRlUHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1Qcm9maWxlXCIpO1xuY29uc3QgZWRpdGVQcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGVkaXRlUHJvZmlsZUZvcm0sIHNldHRpbmdzKTtcbmVkaXRlUHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBhZGRJbWFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsX19mb3JtLWFkZENhcmRcIik7XG5jb25zdCBhZGRJbWFnZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihhZGRJbWFnZUZvcm0sIHNldHRpbmdzKTtcbmFkZEltYWdlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVFZGl0UHJvZmlsZUJ1dHRvbik7XG5mdW5jdGlvbiBoYW5kbGVFZGl0UHJvZmlsZUJ1dHRvbigpIHtcbiAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VyLmdldFVzZXJJbmZvKCk7XG4gIGNvbnN0IGN1cnJlbnRVc2VyTmFtZVBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuYW1lXCIpO1xuICBjb25zdCBjdXJyZW50VXNlckpvYlBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqb2JcIik7XG4gIGN1cnJlbnRVc2VyTmFtZVBsYWNlLnZhbHVlID0gY3VycmVudFVzZXIubmFtZTtcbiAgY3VycmVudFVzZXJKb2JQbGFjZS52YWx1ZSA9IGN1cnJlbnRVc2VyLmpvYjtcbiAgZWRpdGVQcm9maWxlRm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XG4gIGVkaXRQcm9maWxlTW9kYWwub3BlbigpO1xufVxuZWRpdFByb2ZpbGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQWRkQ2FyZEJ1dHRvbik7XG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkQnV0dG9uKCkge1xuICBhZGRJbWFnZUZvcm1WYWxpZGF0b3IuZGlzYWJsZUJ1dHRvbigpO1xuICBhZGRDYXJkTW9kYWwub3BlbigpO1xufVxuYWRkQ2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vLyBuZXcgcGFydFxuYXBpXG4gIC5nZXRBcGlJbmZvKClcbiAgLnRoZW4oKFt1c2VyRGF0YSwgdXNlckNhcmRzXSkgPT4ge1xuICAgIHVzZXIuc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgIGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gICAgICB7XG4gICAgICAgIGl0ZW1zOiB1c2VyQ2FyZHMsXG4gICAgICAgIHJlbmRlcmVyOiBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oXG4gICAgICAgICAgICBjcmVhdGVDYXJkKFxuICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICBpdGVtLm93bmVyLl9pZCA9PT0gdXNlckRhdGEuX2lkID8gXCJvd25lclwiIDogXCJub24tb3duZXJcIixcbiAgICAgICAgICAgICAgdXNlckRhdGFcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIFwiLmNhcmRzX19saXN0XCJcbiAgICApO1xuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgQVBJIGluZm86XCIsIGVycm9yKTtcbiAgfSk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0QXBpSW5mbygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0VXNlckluZm8oKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIHVwZGF0ZVByb2ZpbGVJbmZvKHVzZXJEYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxuICAgICAgICBhYm91dDogdXNlckRhdGEuYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkTmV3Q2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVVc2VyQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgdXBkYXRlTGlrZXMobGlrZXMpIHtcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xuICAgIHRoaXMucmVuZGVyTGlrZXMoKTtcbiAgfVxuXG4gIGFkZENhcmRMaWtlcyhjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgcmVtb3ZlQ2FyZExpa2VzKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICB1cGRhdGVQcm9maWxlQXZhdGFyKGF2YXRhcikge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhciB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIHVzZXJBdmF0YXIpIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckF2YXRhcik7XG4gIH1cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxuICAgICAgam9iOiB0aGlzLl9wcm9maWxlSm9iLnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLmdldEF2YXRhcigpLFxuICAgIH07XG4gIH1cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudCA9IGFib3V0O1xuICAgIHRoaXMuc2V0QXZhdGFyKGF2YXRhcik7XG4gIH1cblxuICBzZXRBdmF0YXIodmFsdWUpIHtcbiAgICB0aGlzLl91c2VyQXZhdGFyLmFsdCA9IHRoaXMuZ2V0VXNlckluZm8oKS5uYW1lO1xuICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gdmFsdWU7XG4gIH1cblxuICBnZXRBdmF0YXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VzZXJBdmF0YXIuc3JjO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgcG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbiA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5kZWxldGUtaW1hZ2UtbW9kYWxfX2J1dHRvblwiXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4oaWQpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5faWQgPSBpZDtcbiAgfVxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2NvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZVN1Ym1pdCgpO1xuICAgIH0pO1xuICB9XG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiTG9hZGluZy4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gXCJZZXNcIjtcbiAgICB9XG4gIH1cbiAgc2V0U3VibWl0QWN0aW9uKGhhbmRsZURlbGV0ZVN1Ym1pdCkge1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZVN1Ym1pdCA9IGhhbmRsZURlbGV0ZVN1Ym1pdDtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zY3JlZW4taW1hZ2VcIik7XG4gICAgdGhpcy5faW1hZ2VUaXRsZSA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3RpdGxlLWltYWdlXCIpO1xuICB9XG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX2ltYWdlVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuICB9XG59XG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImNhcmRPd25lciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiY3VycmVudFVzZXIiLCJoYW5kbGVMaWtlQ2xpY2siLCJ0aGlzIiwiX2NhcmRPd25lciIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlQ291bnQiLCJsaWtlcyIsImxlbmd0aCIsIl9saWtlcyIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX3VzZXJJZCIsIm93bmVyIiwiX2lkIiwiX2hhbmRsZUxpa2VDbGljayIsIl9jYXJkSWQiLCJfc2V0Q2FyZFZpZXdFbGVtZW50cyIsIl9jYXJkSW1hZ2UiLCJfZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfY2FyZFRpdGxlIiwiX2xpa2VCdXR0b24iLCJfZGVsZXRlQnV0dG9uIiwiaGlkZGVuIiwiX2NhcmRMaWtlQ291bnQiLCJfc2V0Q2FyZFZpZXciLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsInVwZGF0ZUxpa2VzIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZURlbGV0ZUljb24iLCJyZW1vdmUiLCJzZXRMaWtlSW5mbyIsInNvbWUiLCJsaWtlIiwiY2xhc3NMaXN0IiwiYWRkIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0VmlldyIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsInNldHRpbmdzIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b24iLCJfaGlkZUlucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsImNvbnNvbGUiLCJsb2ciLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2NoZWNrRm9ybVZhbGlkaXR5IiwiZXZlcnkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlQnV0dG9uIiwiZGlzYWJsZWQiLCJmb3JFYWNoIiwiaW5wdXQiLCJldnQiLCJlbmFibGVWYWxpZGF0aW9uIiwicHJldmVudERlZmF1bHQiLCJQb3B1cCIsInBvcHVwX1NlbGVjdG9yIiwiX21vZGFsIiwiX2Nsb3NlQnV0dG9uIiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsIl9jbG9zZU1vZGFsV2l0aE91dHNpZGVDbGljayIsInRhcmdldCIsImNsb3Nlc3QiLCJzZXRFdmVudExpc3RlbmVycyIsIlBvcHVwV2l0aEZvcm1zIiwicG9wdXBTZWxlY3RvciIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9tb2RhbEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJ2YWx1ZSIsInJlbmRlckxvYWRpbmciLCJmbGFnIiwidGV4dFZhbHVlIiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJmb3JtU2VsZWN0b3IiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRBcGlJbmZvIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJ1cGRhdGVQcm9maWxlSW5mbyIsInVzZXJEYXRhIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhYm91dCIsImFkZE5ld0NhcmQiLCJfcmVmMiIsImRlbGV0ZVVzZXJDYXJkIiwiY2FyZElkIiwicmVuZGVyTGlrZXMiLCJhZGRDYXJkTGlrZXMiLCJyZW1vdmVDYXJkTGlrZXMiLCJ1cGRhdGVQcm9maWxlQXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsInVzZXIiLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsInVzZXJBdmF0YXIiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZUpvYiIsIl91c2VyQXZhdGFyIiwiam9iIiwiZ2V0QXZhdGFyIiwic2V0VXNlckluZm8iLCJzZXRBdmF0YXIiLCJlZGl0UHJvZmlsZU1vZGFsIiwiUG9wdXBXaXRoRm9ybSIsImNhdGNoIiwiZXJyb3IiLCJlZGl0UHJvZmlsZUF2YXRhciIsImVyciIsImZpbmFsbHkiLCJlZGl0UHJvZmlsZUF2YXRhckZvcm1WYWxpZGF0b3IiLCJkZWxldGVDYXJkTW9kYWwiLCJfY29uZmlybUJ1dHRvbiIsIl9oYW5kbGVEZWxldGVTdWJtaXQiLCJpc0xvYWRpbmciLCJfc2F2ZUJ1dHRvbiIsInNldFN1Ym1pdEFjdGlvbiIsImhhbmRsZURlbGV0ZVN1Ym1pdCIsImNhcmRTZWN0aW9uIiwiaW1hZ2VGdWxsVmlldyIsIl9pbWFnZSIsIl9pbWFnZVRpdGxlIiwiY3JlYXRlQ2FyZCIsImNhcmQiLCJhZGRDYXJkTW9kYWwiLCJlZGl0ZVByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiYWRkSW1hZ2VGb3JtVmFsaWRhdG9yIiwiY3VycmVudFVzZXJOYW1lUGxhY2UiLCJjdXJyZW50VXNlckpvYlBsYWNlIiwidXNlckNhcmRzIiwiaXRlbSJdLCJzb3VyY2VSb290IjoiIn0=